<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>RelatÃ³rios Mensais</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <!-- NAVBAR -->
    <div class="navbar">
        <a href="/">ğŸ  InÃ­cio</a>
        <a href="/relatorios">ğŸ“… RelatÃ³rios</a>
    </div>

    <!-- CONTEÃšDO CENTRAL -->
    <div class="container">
        <h1>ğŸ“… RelatÃ³rios Mensais</h1>

        <!-- FORMULÃRIO DE FILTRO -->
        <form action="/relatorios" method="GET">
            <label>MÃªs:</label>
            <input type="number" name="mes" min="1" max="12" required value="{{ mes or '' }}">

            <label>Ano:</label>
            <input type="number" name="ano" min="2000" max="2100" required value="{{ ano or '' }}">

            <button type="submit">Filtrar</button>
        </form>

        {% if transacoes %}
            <h2>TransaÃ§Ãµes de {{ mes }}/{{ ano }}</h2>

            <table>
                <tr>
                    <th>Data</th>
                    <th>Tipo</th>
                    <th>Valor</th>
                    <th>DescriÃ§Ã£o</th>
                </tr>
                {% for t in transacoes %}
                <tr>
                    <td>{{ t['data'] }}</td>
                    <td>{{ t['tipo'] }}</td>
                    <td>R$ {{ t['valor'] }}</td>
                    <td>{{ t['descricao'] }}</td>
                </tr>
                {% endfor %}
            </table>

            <h3>Resumo</h3>
            <p>ğŸ’° Total de ganhos: <strong>R$ {{ ganhos }}</strong></p>
            <p>ğŸ’¸ Total de despesas: <strong>R$ {{ despesas }}</strong></p>
            <p>âš–ï¸ Saldo final: <strong>R$ {{ saldo }}</strong></p>

        {% elif mes and ano %}
            <p style="text-align:center;">âŒ Nenhuma transaÃ§Ã£o encontrada para {{ mes }}/{{ ano }}</p>
        {% endif %}
    </div>

</body>
</html>
